# emst

åŸºäº[ä¸œæ–¹è´¢å¯Œ](https://quote.eastmoney.com/)æ•°æ®çš„**å¤šå¸‚åœºè‚¡ç¥¨æ•°æ®**å’Œ**å¿«è®¯æ–°é—»**å·¥å…·ï¼Œæ”¯æŒ**å®æ—¶æ•°æ®æµ**æ¨é€ã€‚

[![npm version](https://img.shields.io/npm/v/emst.svg)](https://www.npmjs.com/package/emst)
[![npm](https://img.shields.io/npm/dm/emst.svg)](https://www.npmjs.com/package/emst)

> ğŸŒ **å¤šå¸‚åœº**ï¼ˆAè‚¡/æ¸¯è‚¡/ç¾è‚¡ï¼‰ | ğŸ“Š **è‚¡ç¥¨æ•°æ®** | ğŸ“° **å¿«è®¯æ–°é—»** | âš¡ **å®æ—¶æ•°æ®æµ**ï¼ˆSSEï¼‰

## å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
npm install -g emst
```

### æ ¸å¿ƒç”¨æ³•

```bash
# å¤šå¸‚åœºè‚¡ç¥¨æ•°æ®ï¼ˆAè‚¡è‡ªåŠ¨æ£€æµ‹ï¼Œæ¸¯è‚¡/ç¾è‚¡éœ€æŒ‡å®š --marketï¼‰
emst stock fetch --code 688005              # Aè‚¡
emst stock fetch --code 00700 --market 116  # æ¸¯è‚¡
emst stock fetch --code AAPL --market 105   # ç¾è‚¡

# è·å–å®æ—¶è¡Œæƒ…
emst stock quote --code 688005

# å®æ—¶æ•°æ®æµï¼ˆSSEï¼‰- å®æ—¶æ¨é€è¡Œæƒ…ã€åˆ†æ—¶èµ°åŠ¿ã€æˆäº¤æ˜ç»†
emst stock stream --code 688005
emst stock stream --code 688005 --types quote,trend,detail

# å¿«è®¯æ–°é—»
emst news list                              # è·å–å¿«è®¯åˆ—è¡¨
emst news stream                            # å®æ—¶æ–°é—»æµï¼ˆSSEï¼‰

# è‡ªé€‰è‚¡ç®¡ç†
emst stock watchlist add 688005
emst stock watchlist sync
```

## æ ¸å¿ƒåŠŸèƒ½

### ğŸŒ å¤šå¸‚åœºæ”¯æŒ

æ”¯æŒ **Aè‚¡ã€æ¸¯è‚¡ã€ç¾è‚¡** ä¸‰å¤§å¸‚åœºï¼ŒAè‚¡è‡ªåŠ¨è¯†åˆ«å¸‚åœºï¼Œç»Ÿä¸€æ¥å£è·å–æ•°æ®ã€‚æ”¯æŒè‚¡ç¥¨ã€æŒ‡æ•°ã€åŸºé‡‘å’ŒETFã€‚

### ğŸ“Š è‚¡ç¥¨æ•°æ®

- **å†å²Kçº¿æ•°æ®**ï¼šæ—¥çº¿ã€å‘¨çº¿ã€æœˆçº¿åŠæ—¥å†…æ•°æ®ï¼ˆ5åˆ†é’Ÿ/15åˆ†é’Ÿ/30åˆ†é’Ÿ/60åˆ†é’Ÿï¼‰
- **å®æ—¶è¡Œæƒ…**ï¼šREST API è·å–å®æ—¶è¡Œæƒ…å¿«ç…§
- **çµæ´»ç­›é€‰**ï¼šæ—¥æœŸèŒƒå›´ã€å¤æƒç±»å‹ï¼ˆä¸å¤æƒ/å‰å¤æƒ/åå¤æƒï¼‰
- **å¤šæ ¼å¼å¯¼å‡º**ï¼šJSONã€CSV æ ¼å¼

### âš¡ å®æ—¶æ•°æ®æµï¼ˆSSEï¼‰

æ”¯æŒå®æ—¶æ¨é€**è¡Œæƒ…ã€åˆ†æ—¶èµ°åŠ¿ã€æˆäº¤æ˜ç»†**ï¼Œå¯åŒæ—¶è®¢é˜…å¤šç§æ•°æ®ç±»å‹ã€‚

### ğŸ“° å¿«è®¯æ–°é—»

æ”¯æŒè·å–å’Œå®æ—¶æ¨é€è´¢ç»å¿«è®¯ï¼Œå¯æŒ‰åˆ†ç±»ç­›é€‰ã€‚

### ğŸ› ï¸ ä¾¿æ·å·¥å…·

- **è‡ªé€‰è‚¡ç®¡ç†**ï¼šæ‰¹é‡ç®¡ç†è‚¡ç¥¨ï¼Œä¸€é”®åŒæ­¥æ•°æ®
- **æ™ºèƒ½ç¼“å­˜**ï¼šè‡ªåŠ¨ç¼“å­˜ï¼Œå¢é‡æ›´æ–°ï¼Œæå‡æ•ˆç‡

## å®‰è£…

### npm å®‰è£…ï¼ˆæ¨èï¼‰

```bash
npm install -g emst
```

### æºç å®‰è£…

```bash
git clone https://github.com/Algovate/emst.git
cd emst
npm install && npm run build
```

> **æç¤º**ï¼šå…¨å±€å®‰è£…åå¯ç›´æ¥ä½¿ç”¨ `emst` å‘½ä»¤ã€‚æºç è¿è¡Œä½¿ç”¨ `npm run start --`ã€‚

## ä½¿ç”¨æ–¹æ³•

è¯¦ç»†ä½¿ç”¨æ–¹æ³•è¯·å‚é˜… [ä½¿ç”¨ç¤ºä¾‹æ–‡æ¡£](docs/examples.md)ã€‚

### å¸¸ç”¨å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `stock fetch` | è·å–Kçº¿æ•°æ® | `emst stock fetch --code 688005` |
| `stock quote` | è·å–å®æ—¶è¡Œæƒ… | `emst stock quote --code 688005` |
| `stock stream` | å®æ—¶æ•°æ®æµï¼ˆSSEï¼‰ | `emst stock stream --code 688005` |
| `news list` | è·å–å¿«è®¯åˆ—è¡¨ | `emst news list` |
| `news stream` | å®æ—¶æ–°é—»æµ | `emst news stream` |
| `watchlist` | è‡ªé€‰è‚¡ç®¡ç† | `emst stock watchlist add 688005` |

### å¸¸ç”¨å‚æ•°

- `--code <code>`: è‚¡ç¥¨ä»£ç ï¼ˆå¿…éœ€ï¼‰
- `--market <market>`: å¸‚åœºä»£ç ï¼ˆ0=æ·±åœ³ï¼Œ1=ä¸Šæµ·ï¼Œ105=ç¾è‚¡ï¼Œ116=æ¸¯è‚¡ï¼‰ï¼ŒAè‚¡è‡ªåŠ¨æ£€æµ‹
- `--timeframe <timeframe>`: æ—¶é—´å‘¨æœŸï¼ˆdaily/weekly/monthly/5min/15min/30min/60minï¼‰
- `--start/--end <date>`: æ—¥æœŸèŒƒå›´ï¼ˆYYYYMMDDï¼‰
- `--output <path>`: è¾“å‡ºæ–‡ä»¶ï¼ˆ.csv è‡ªåŠ¨è¯†åˆ«ä¸º CSV æ ¼å¼ï¼‰
- `--format <format>`: è¾“å‡ºæ ¼å¼ï¼ˆjson/table/textï¼‰

å®Œæ•´å‘½ä»¤è¡Œé€‰é¡¹è¯·å‚é˜… [ä½¿ç”¨ç¤ºä¾‹æ–‡æ¡£](docs/examples.md)ã€‚

## æ•°æ®å­˜å‚¨

æ•°æ®å­˜å‚¨åœ¨ `.emst/` ç›®å½•ï¼š

- **è‡ªé€‰è‚¡**ï¼š`.emst/watchlist.json`
- **ç¼“å­˜æ•°æ®**ï¼š`.emst/cache/`

é»˜è®¤å¯ç”¨æ™ºèƒ½ç¼“å­˜ï¼Œè‡ªåŠ¨æ£€æŸ¥æœ‰æ•ˆæ€§å¹¶å¢é‡æ›´æ–°ã€‚è¯¦æƒ…è¯·å‚é˜… [ç¼“å­˜æœºåˆ¶æ–‡æ¡£](docs/cache.md)ã€‚

## æ•°æ®æ ¼å¼

Kçº¿æ•°æ®åŒ…å« `date`, `open`, `close`, `high`, `low`, `volume`, `amount` ç­‰å­—æ®µã€‚è¯¦ç»†æ ¼å¼è¯´æ˜è¯·å‚é˜… [API æ–‡æ¡£](docs/api.md)ã€‚

## æ–‡æ¡£

- **[ä½¿ç”¨ç¤ºä¾‹](docs/examples.md)** - è¯¦ç»†ä½¿ç”¨æ–¹æ³•ã€åœºæ™¯ç¤ºä¾‹å’Œè„šæœ¬é›†æˆ
- [API æ–‡æ¡£](docs/api.md) - å®Œæ•´çš„ç¼–ç¨‹å¼ API å‚è€ƒ
- [ç¼“å­˜æœºåˆ¶](docs/cache.md) - ç¼“å­˜ç³»ç»Ÿè¯¦ç»†è¯´æ˜
- [è‡ªé€‰è‚¡ç®¡ç†](docs/watchlist.md) - è‡ªé€‰è‚¡åŠŸèƒ½è¯¦è§£